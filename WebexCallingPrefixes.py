import csv

prefixes = {"version": "1.0.0", "revision": "20250602.0e51212", "items": [{"service_area": "Calling", "prefixes": {"owned": ["23.89.0.0/16", "62.109.192.0/18", "64.68.96.0/19", "72.163.10.96/27", "72.163.10.128/25", "72.163.15.64/26", "72.163.15.128/26", "72.163.24.0/23", "85.119.56.0/23", "128.177.14.0/24", "128.177.36.0/24", "135.84.168.0/21", "139.177.64.0/21", "139.177.72.0/23", "144.196.0.0/16", "150.253.128.0/17", "163.129.0.0/17", "170.72.0.0/16", "170.133.128.0/18", "173.36.127.0/26", "173.36.127.128/26", "173.37.26.0/23", "173.37.146.128/25", "173.37.149.96/27", "185.115.196.0/22", "192.133.220.0/26", "192.133.220.64/26", "199.19.196.0/23", "199.19.199.0/24", "199.59.64.0/21", "207.182.160.0/19"], "provider_reserved": ["3.20.185.219/32", "3.130.87.169/32", "3.134.166.179/32", "52.26.82.54/32"]}}, {"service_area": "Meetings and Messaging", "prefixes": {"owned": ["23.89.0.0/16", "62.109.192.0/18", "64.68.96.0/19", "66.114.160.0/20", "66.163.32.0/19", "69.26.160.0/19", "114.29.192.0/19", "144.196.0.0/16", "150.253.128.0/17", "163.129.0.0/16", "170.72.0.0/16", "170.133.128.0/18", "173.39.224.0/19", "173.243.0.0/20", "207.182.160.0/19", "209.197.192.0/19", "210.4.192.0/20", "216.151.128.0/19"], "provider_reserved": ["4.152.180.0/24", "4.152.214.0/24", "4.158.208.0/24", "4.175.120.0/24", "20.50.235.0/24", "20.53.87.0/24", "20.57.87.0/24", "20.68.154.0/24", "20.76.127.0/24", "20.108.99.0/24", "20.120.238.0/23", "40.119.234.0/24", "52.232.210.0/24"]}}, {"service_area": "Meetings", "prefixes": {"owned": [], "provider_reserved": []}}]}
webex_calling_prefixes = prefixes["items"][0]["prefixes"]["owned"]

#print(prefixes["items"][0]["prefixes"]["owned"])

with open("webex_calling_prefixes.csv", mode='w', newline='') as file:
    writer = csv.writer(file)
    writer.writerow(["prefixes"])
    for ip in webex_calling_prefixes:
        print(ip)
        writer.writerow([ip])


